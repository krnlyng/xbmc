ARCH=@ARCH@
INCLUDES=-I. -I@top_srcdir@/xbmc/addons/kodi-addon-dev-kit/include -I@top_srcdir@/xbmc/addons/kodi-addon-dev-kit/include -I@top_srcdir@/xbmc -I@top_srcdir@/xbmc/cores/VideoPlayer/DVDDemuxers
DEFINES+=
CXXFLAGS=-fPIC
LIBNAME=libXBMC_pvr
SRCS=$(LIBNAME).cpp

ifeq ($(findstring osx,$(ARCH)), osx)
LIB_SHARED=../../../addons/library.xbmc.pvr/$(LIBNAME)-$(ARCH).dylib
else
LIB_SHARED=../../../addons/library.xbmc.pvr/$(LIBNAME)-$(ARCH).so
endif

all: $(LIB_SHARED)

include @abs_top_builddir@/Makefile.include

$(LIB_SHARED): $(OBJS)
	@mkdir -p $(@D)
ifeq ($(findstring osx,$(ARCH)), osx)
	$(CXX) $(CXXFLAGS) $(LDFLAGS) -dynamiclib -o $@ $(OBJS)
else
	$(CXX) $(CFLAGS) $(LDFLAGS) -shared -g -o $(LIB_SHARED) $(OBJS)
endif

CLEAN_FILES = \
	$(LIB_SHARED) \

DISTCLEAN_FILES= \
	Makefile \
