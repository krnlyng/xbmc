SRCS  = PeripheralBus.cpp
SRCS += virtual/PeripheralBusAddon.cpp

ifeq (@USE_ANDROID@,1)
SRCS += android/AndroidJoystickState.cpp
SRCS += android/PeripheralBusAndroid.cpp
endif

ifeq (@USE_LIBUDEV@,1)
SRCS += linux/PeripheralBusUSBLibUdev.cpp
endif

ifeq (@USE_LIBUSB@,1)
SRCS += linux/PeripheralBusUSBLibUSB.cpp
endif

ifeq ($(findstring osx,@ARCH@),osx)
SRCS += osx/PeripheralBusUSB.cpp
endif

ifeq (@USE_LIBCEC@,1)
SRCS += virtual/PeripheralBusCEC.cpp
endif

LIB = peripheral-bus.a

include @abs_top_builddir@/Makefile.include
-include $(patsubst %.cpp,%.P,$(patsubst %.c,%.P,$(SRCS)))
